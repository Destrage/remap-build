(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Ri=(e,t)=>e===t,J=Symbol("solid-proxy"),_n=Symbol("solid-track"),et={equals:Ri};let Un=Vn;const he=1,tt=2,In={owned:null,cleanups:null,context:null,owner:null};var C=null;let Pt=null,Fi=null,L=null,B=null,se=null,ft=0;function zn(e,t){const n=L,r=C,i=e.length===0,s=t===void 0?r:t,o=i?In:{owned:null,cleanups:null,context:s?s.context:null,owner:s},l=i?e:()=>e(()=>Z(()=>ht(o)));C=o,L=null;try{return de(l,!0)}finally{L=n,C=r}}function X(e,t){t=t?Object.assign({},et,t):et;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Kn(n,i));return[qn.bind(n),r]}function q(e,t,n){const r=Ht(e,t,!1,he);Ie(r)}function Bn(e,t,n){Un=ki;const r=Ht(e,t,!1,he);r.user=!0,se?se.push(r):Ie(r)}function I(e,t,n){n=n?Object.assign({},et,n):et;const r=Ht(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ie(r),qn.bind(r)}function Di(e){return de(e,!1)}function Z(e){if(L===null)return e();const t=L;L=null;try{return e()}finally{L=t}}function kn(e,t,n){const r=Array.isArray(e);let i;return s=>{let o;if(r){o=Array(e.length);for(let c=0;c<e.length;c++)o[c]=e[c]()}else o=e();const l=Z(()=>t(o,i,s));return i=o,l}}function Wt(e){return C===null||(C.cleanups===null?C.cleanups=[e]:C.cleanups.push(e)),e}function Rt(){return L}function Wn(){return C}function Gn(e,t){const n=C,r=L;C=e,L=null;try{return de(t,!0)}catch(i){qt(i)}finally{C=n,L=r}}function Ui(e){const t=L,n=C;return Promise.resolve().then(()=>{L=t,C=n;let r;return de(e,!1),L=C=null,r?r.done:void 0})}function Hn(e,t){const n=Symbol("context");return{id:n,Provider:Gi(n),defaultValue:e}}function Ii(e){return C&&C.context&&C.context[e.id]!==void 0?C.context[e.id]:e.defaultValue}function Gt(e){const t=I(e),n=I(()=>Ft(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function qn(){if(this.sources&&this.state)if(this.state===he)Ie(this);else{const e=B;B=null,de(()=>rt(this),!1),B=e}if(L){const e=this.observers?this.observers.length:0;L.sources?(L.sources.push(this),L.sourceSlots.push(e)):(L.sources=[this],L.sourceSlots=[e]),this.observers?(this.observers.push(L),this.observerSlots.push(L.sources.length-1)):(this.observers=[L],this.observerSlots=[L.sources.length-1])}return this.value}function Kn(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&de(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],o=Pt&&Pt.running;o&&Pt.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?B.push(s):se.push(s),s.observers&&Xn(s)),o||(s.state=he)}if(B.length>1e6)throw B=[],new Error},!1)),t}function Ie(e){if(!e.fn)return;ht(e);const t=ft;zi(e,e.value,t)}function zi(e,t,n){let r;const i=C,s=L;L=C=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=he,e.owned&&e.owned.forEach(ht),e.owned=null),e.updatedAt=n+1,qt(o)}finally{L=s,C=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Kn(e,r):e.value=r,e.updatedAt=n)}function Ht(e,t,n,r=he,i){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:C,context:C?C.context:null,pure:n};return C===null||C!==In&&(C.owned?C.owned.push(s):C.owned=[s]),s}function nt(e){if(e.state===0)return;if(e.state===tt)return rt(e);if(e.suspense&&Z(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ft);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===he)Ie(e);else if(e.state===tt){const r=B;B=null,de(()=>rt(e,t[0]),!1),B=r}}function de(e,t){if(B)return e();let n=!1;t||(B=[]),se?n=!0:se=[],ft++;try{const r=e();return Bi(n),r}catch(r){n||(se=null),B=null,qt(r)}}function Bi(e){if(B&&(Vn(B),B=null),e)return;const t=se;se=null,t.length&&de(()=>Un(t),!1)}function Vn(e){for(let t=0;t<e.length;t++)nt(e[t])}function ki(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:nt(r)}for(t=0;t<n;t++)nt(e[t])}function rt(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===he?r!==t&&(!r.updatedAt||r.updatedAt<ft)&&nt(r):i===tt&&rt(r,t)}}}function Xn(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=tt,n.pure?B.push(n):se.push(n),n.observers&&Xn(n))}}function ht(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ht(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Wi(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function qt(e,t=C){throw Wi(e)}function Ft(e){if(typeof e=="function"&&!e.length)return Ft(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Ft(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Gi(e,t){return function(r){let i;return q(()=>i=Z(()=>(C.context={...C.context,[e]:r.value},Gt(()=>r.children))),void 0),i}}let Hi=!1;function j(e,t){return Z(()=>e(t||{}))}function Ve(){return!0}const Dt={get(e,t,n){return t===J?n:e.get(t)},has(e,t){return t===J?!0:e.has(t)},set:Ve,deleteProperty:Ve,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Ve,deleteProperty:Ve}},ownKeys(e){return e.keys()}};function Lt(e){return(e=typeof e=="function"?e():e)?e:{}}function qi(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function Ut(...e){let t=!1;for(let o=0;o<e.length;o++){const l=e[o];t=t||!!l&&J in l,e[o]=typeof l=="function"?(t=!0,I(l)):l}if(t)return new Proxy({get(o){for(let l=e.length-1;l>=0;l--){const c=Lt(e[l])[o];if(c!==void 0)return c}},has(o){for(let l=e.length-1;l>=0;l--)if(o in Lt(e[l]))return!0;return!1},keys(){const o=[];for(let l=0;l<e.length;l++)o.push(...Object.keys(Lt(e[l])));return[...new Set(o)]}},Dt);const n={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const l=e[o];if(!l)continue;const c=Object.getOwnPropertyNames(l);for(let u=c.length-1;u>=0;u--){const f=c[u];if(f==="__proto__"||f==="constructor")continue;const d=Object.getOwnPropertyDescriptor(l,f);if(!r[f])r[f]=d.get?{enumerable:!0,configurable:!0,get:qi.bind(n[f]=[d.get.bind(l)])}:d.value!==void 0?d:void 0;else{const p=n[f];p&&(d.get?p.push(d.get.bind(l)):d.value!==void 0&&p.push(()=>d.value))}}}const i={},s=Object.keys(r);for(let o=s.length-1;o>=0;o--){const l=s[o],c=r[l];c&&c.get?Object.defineProperty(i,l,c):i[l]=c?c.value:void 0}return i}function Ki(e,...t){if(J in e){const i=new Set(t.length>1?t.flat():t[0]),s=t.map(o=>new Proxy({get(l){return o.includes(l)?e[l]:void 0},has(l){return o.includes(l)&&l in e},keys(){return o.filter(l=>l in e)}},Dt));return s.push(new Proxy({get(o){return i.has(o)?void 0:e[o]},has(o){return i.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!i.has(o))}},Dt)),s}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,i),o=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let l=!1,c=0;for(const u of t)u.includes(i)&&(l=!0,o?r[c][i]=s.value:Object.defineProperty(r[c],i,s)),++c;l||(o?n[i]=s.value:Object.defineProperty(n,i,s))}return[...r,n]}const Vi=e=>`Stale read from <${e}>.`;function Jn(e){const t=e.keyed,n=I(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return I(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?Z(()=>i(t?r:()=>{if(!Z(n))throw Vi("Show");return e.when})):i}return e.fallback},void 0,void 0)}const Xi=new Set(["innerHTML","textContent","innerText","children"]),Ji=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Qi=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Yi={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Zi(e,t,n){let r=n.length,i=t.length,s=r,o=0,l=0,c=t[i-1].nextSibling,u=null;for(;o<i||l<s;){if(t[o]===n[l]){o++,l++;continue}for(;t[i-1]===n[s-1];)i--,s--;if(i===o){const f=s<r?l?n[l-1].nextSibling:n[s-l]:c;for(;l<s;)e.insertBefore(n[l++],f)}else if(s===l)for(;o<i;)(!u||!u.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[s-1]&&n[l]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[l++],t[o++].nextSibling),e.insertBefore(n[--s],f),t[i]=n[s]}else{if(!u){u=new Map;let d=l;for(;d<s;)u.set(n[d],d++)}const f=u.get(t[o]);if(f!=null)if(l<f&&f<s){let d=o,p=1,v;for(;++d<i&&d<s&&!((v=u.get(t[d]))==null||v!==f+p);)p++;if(p>f-l){const m=t[o];for(;l<f;)e.insertBefore(n[l++],m)}else e.replaceChild(n[l++],t[o++])}else o++;else t[o++].remove()}}}const An="_$DX_DELEGATE";function es(e,t,n,r={}){let i;return zn(s=>{i=s,t===document?e():M(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function K(e,t,n){let r;const i=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},s=()=>(r||(r=i())).cloneNode(!0);return s.cloneNode=s,s}function Kt(e,t=window.document){const n=t[An]||(t[An]=new Set);for(let r=0,i=e.length;r<i;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,ls))}}function Fe(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function ts(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function Je(e,t){t==null?e.removeAttribute("class"):e.className=t}function ns(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=s=>i.call(e,n[1],s))}else e.addEventListener(t,n)}function rs(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const l=i[s];!l||l==="undefined"||t[l]||(Sn(e,l,!1),delete n[l])}for(s=0,o=r.length;s<o;s++){const l=r[s],c=!!t[l];!l||l==="undefined"||n[l]===c||!c||(Sn(e,l,!0),n[l]=c)}return n}function is(e,t,n){if(!t)return n?Fe(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)i=t[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function ss(e,t={},n,r){const i={};return q(()=>t.ref&&t.ref(e)),q(()=>os(e,t,n,!0,i,!0)),i}function M(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return it(e,t,r,n);q(i=>it(e,t(),i,n),r)}function os(e,t,n,r,i={},s=!1){t||(t={});for(const o in i)if(!(o in t)){if(o==="children")continue;i[o]=On(e,o,null,i[o],n,s)}for(const o in t){if(o==="children")continue;const l=t[o];i[o]=On(e,o,l,i[o],n,s)}}function as(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Sn(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],n)}function On(e,t,n,r,i,s){let o,l,c,u;if(t==="style")return is(e,n,r);if(t==="classList")return rs(e,n,r);if(n===r)return r;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);r&&e.removeEventListener(f,r),n&&e.addEventListener(f,n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);r&&e.removeEventListener(f,r,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),d=Qi.has(f);if(!d&&r){const p=Array.isArray(r)?r[0]:r;e.removeEventListener(f,p)}(d||n)&&(ns(e,f,n,d),d&&Kt([f]))}else if(t.slice(0,5)==="attr:")Fe(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(c=Xi.has(t))||!i||(o=e.nodeName.includes("-")))u&&(t=t.slice(5),l=!0),t==="class"||t==="className"?Je(e,n):o&&!l&&!c?e[as(t)]=n:e[t]=n;else{const f=t.indexOf(":")>-1&&Yi[t.split(":")[0]];f?ts(e,f,t,n):Fe(e,Ji[t]||t,n)}return n}function ls(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function it(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),o){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=xe(e,n,r,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=xe(e,n,r);else{if(s==="function")return q(()=>{let l=t();for(;typeof l=="function";)l=l();n=it(e,l,n,r)}),()=>n;if(Array.isArray(t)){const l=[],c=n&&Array.isArray(n);if(It(l,t,n,i))return q(()=>n=it(e,l,n,r,!0)),()=>n;if(l.length===0){if(n=xe(e,n,r),o)return n}else c?n.length===0?En(e,l,r):Zi(e,n,l):(n&&xe(e),En(e,l));n=l}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=xe(e,n,r,t);xe(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function It(e,t,n,r){let i=!1;for(let s=0,o=t.length;s<o;s++){let l=t[s],c=n&&n[e.length],u;if(!(l==null||l===!0||l===!1))if((u=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))i=It(e,l,c)||i;else if(u==="function")if(r){for(;typeof l=="function";)l=l();i=It(e,Array.isArray(l)?l:[l],Array.isArray(c)?c:[c])||i}else e.push(l),i=!0;else{const f=String(l);c&&c.nodeType===3&&c.data===f?e.push(c):e.push(document.createTextNode(f))}}return i}function En(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function xe(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let s=!1;for(let o=t.length-1;o>=0;o--){const l=t[o];if(i!==l){const c=l.parentNode===e;!s&&!o?c?e.replaceChild(i,l):e.insertBefore(i,n):c&&l.remove()}else s=!0}}else e.insertBefore(i,n);return[i]}const Qn=!1;var cs=K('<nav class="flex items-center justify-between bg-teal-900 p-5"><div class="flex items-center space-x-4 text-gray-200"><a href=/ class=font-semibold>Midi Remap</a><a href=about class=font-semibold>About</a><a href=faq class=font-semibold>FAQ');const us=()=>cs();var fs=K('<span class="footer bg-gray-700">Copyright © 2024');const hs=()=>fs();function Yn(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,s){if(n)return!(n=!1);const o={to:i,options:s,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const l of e)l.listener({...o,from:l.location,retry:c=>{c&&(n=!0),l.navigate(i,{...s,resolve:!1})}});return!o.defaultPrevented}return{subscribe:t,confirm:r}}let zt;function Vt(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),zt=window.history.state._depth}Vt();function ds(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function gs(e,t){let n=!1;return()=>{const r=zt;Vt();const i=r==null?null:zt-r;if(n){n=!1;return}i&&t(i)?(n=!0,window.history.go(-i)):e()}}const ps=/^(?:[a-z0-9]+:)?\/\//i,ms=/^\/+|(\/)\/+$/g,Zn="http://sr";function Re(e,t=!1){const n=e.replace(ms,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Qe(e,t,n){if(ps.test(t))return;const r=Re(e),i=n&&Re(n);let s="";return!i||t.startsWith("/")?s=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?s=r+i:s=i,(s||"/")+Re(t,!s)}function ys(e,t){return Re(e).replace(/\/*(\*.*)?$/g,"")+Re(t)}function er(e){const t={};return e.searchParams.forEach((n,r)=>{t[r]=n}),t}function bs(e,t,n){const[r,i]=e.split("/*",2),s=r.split("/").filter(Boolean),o=s.length;return l=>{const c=l.split("/").filter(Boolean),u=c.length-o;if(u<0||u>0&&i===void 0&&!t)return null;const f={path:o?"":"/",params:{}},d=p=>n===void 0?void 0:n[p];for(let p=0;p<o;p++){const v=s[p],m=c[p],w=v[0]===":",y=w?v.slice(1):v;if(w&&jt(m,d(y)))f.params[y]=m;else if(w||!jt(m,v))return null;f.path+=`/${m}`}if(i){const p=u?c.slice(-u).join("/"):"";if(jt(p,d(i)))f.params[i]=p;else return null}return f}}function jt(e,t){const n=r=>r.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function ws(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,s)=>i+(s.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function tr(e){const t=new Map,n=Wn();return new Proxy({},{get(r,i){return t.has(i)||Gn(n,()=>t.set(i,I(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function nr(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return nr(r).reduce((s,o)=>[...s,...i.map(l=>l+o)],[])}const vs=100,_s=Hn(),rr=Hn();function As(e,t=""){const{component:n,load:r,children:i,info:s}=e,o=!i||Array.isArray(i)&&!i.length,l={key:e,component:n,load:r,info:s};return ir(e.path).reduce((c,u)=>{for(const f of nr(u)){const d=ys(t,f);let p=o?d:d.split("/*",1)[0];p=p.split("/").map(v=>v.startsWith(":")||v.startsWith("*")?v:encodeURIComponent(v)).join("/"),c.push({...l,originalPath:u,pattern:p,matcher:bs(p,!o,e.matchFilters)})}return c},[])}function Ss(e,t=0){return{routes:e,score:ws(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const s=e[i],o=s.matcher(n);if(!o)return null;r.unshift({...o,route:s})}return r}}}function ir(e){return Array.isArray(e)?e:[e]}function sr(e,t="",n=[],r=[]){const i=ir(e);for(let s=0,o=i.length;s<o;s++){const l=i[s];if(l&&typeof l=="object"){l.hasOwnProperty("path")||(l.path="");const c=As(l,t);for(const u of c){n.push(u);const f=Array.isArray(l.children)&&l.children.length===0;if(l.children&&!f)sr(l.children,u.pattern,n,r);else{const d=Ss([...n],r.length);r.push(d)}n.pop()}}}return n.length?r:r.sort((s,o)=>o.score-s.score)}function xn(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function Os(e,t){const n=new URL(Zn),r=I(c=>{const u=e();try{return new URL(u,n)}catch{return console.error(`Invalid path ${u}`),c}},n,{equals:(c,u)=>c.href===u.href}),i=I(()=>r().pathname),s=I(()=>r().search,!0),o=I(()=>r().hash),l=()=>"";return{get pathname(){return i()},get search(){return s()},get hash(){return o()},get state(){return t()},get key(){return l()},query:tr(kn(s,()=>er(r())))}}let ue;function Es(e,t,n,r={}){const{signal:[i,s],utils:o={}}=e,l=o.parsePath||(x=>x),c=o.renderPath||(x=>x),u=o.beforeLeave||Yn(),f=Qe("",r.base||"");if(f===void 0)throw new Error(`${f} is not a valid base path`);f&&!i().value&&s({value:f,replace:!0,scroll:!1});const[d,p]=X(!1),v=async x=>{p(!0);try{await Ui(x)}finally{p(!1)}},[m,w]=X(i().value),[y,b]=X(i().state),S=Os(m,y),A=[],O=X([]),E=I(()=>xn(t(),S.pathname)),R=tr(()=>{const x=E(),P={};for(let z=0;z<x.length;z++)Object.assign(P,x[z].params);return P}),F={pattern:f,path:()=>f,outlet:()=>null,resolvePath(x){return Qe(f,x)}};return q(()=>{const{value:x,state:P}=i();Z(()=>{x!==m()&&v(()=>{ue="native",w(x),b(P),O[1]([])}).then(()=>{ue=void 0})})}),{base:F,location:S,params:R,isRouting:d,renderPath:c,parsePath:l,navigatorFactory:ee,matches:E,beforeLeave:u,preloadRoute:oe,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:O};function Q(x,P,z){Z(()=>{if(typeof P=="number"){P&&(o.go?o.go(P):console.warn("Router integration does not support relative routing"));return}const{replace:ae,resolve:ge,scroll:Y,state:W}={replace:!1,resolve:!0,scroll:!0,...z},D=ge?x.resolvePath(P):Qe("",P);if(D===void 0)throw new Error(`Path '${P}' is not a routable path`);if(A.length>=vs)throw new Error("Too many redirects");const T=m();if((D!==T||W!==y())&&!Qn){if(u.confirm(D,z)){const Le=A.push({value:T,replace:ae,scroll:Y,state:y()});v(()=>{ue="navigate",w(D),b(W),O[1]([])}).then(()=>{A.length===Le&&(ue=void 0,te({value:D,state:W}))})}}})}function ee(x){return x=x||Ii(rr)||F,(P,z)=>Q(x,P,z)}function te(x){const P=A[0];P&&((x.value!==P.value||x.state!==P.state)&&s({...x,replace:P.replace,scroll:P.scroll}),A.length=0)}function oe(x,P){const z=xn(t(),x.pathname),ae=ue;ue="preload";for(let ge in z){const{route:Y,params:W}=z[ge];Y.component&&Y.component.preload&&Y.component.preload();const{load:D}=Y;P&&D&&Gn(n(),()=>D({params:W,location:{pathname:x.pathname,search:x.search,hash:x.hash,query:er(x),state:null,key:""},intent:"preload"}))}ue=ae}}function xs(e,t,n,r){const{base:i,location:s,params:o}=e,{pattern:l,component:c,load:u}=r().route,f=I(()=>r().path);c&&c.preload&&c.preload();const d=u?u({params:o,location:s,intent:ue||"initial"}):void 0;return{parent:t,pattern:l,path:f,outlet:()=>c?j(c,{params:o,location:s,data:d,get children(){return n()}}):n(),resolvePath(v){return Qe(i.path(),v,f())}}}const Ts=e=>t=>{const{base:n}=t,r=Gt(()=>t.children),i=I(()=>sr(r(),t.base||""));let s;const o=Es(e,i,()=>s,{base:n,singleFlight:t.singleFlight});return e.create&&e.create(o),j(_s.Provider,{value:o,get children(){return j(Cs,{routerState:o,get root(){return t.root},get load(){return t.rootLoad},get children(){return[I(()=>(s=Wn())&&null),j(Ns,{routerState:o,get branches(){return i()}})]}})}})};function Cs(e){const t=e.routerState.location,n=e.routerState.params,r=I(()=>e.load&&Z(()=>e.load({params:n,location:t,intent:"preload"})));return j(Jn,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>j(i,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function Ns(e){const t=[];let n;const r=I(kn(e.routerState.matches,(i,s,o)=>{let l=s&&i.length===s.length;const c=[];for(let u=0,f=i.length;u<f;u++){const d=s&&s[u],p=i[u];o&&d&&p.route.key===d.route.key?c[u]=o[u]:(l=!1,t[u]&&t[u](),zn(v=>{t[u]=v,c[u]=xs(e.routerState,c[u-1]||e.routerState.base,Tn(()=>r()[u+1]),()=>e.routerState.matches()[u])}))}return t.splice(i.length).forEach(u=>u()),o&&l?o:(n=c[0],c)}));return Tn(()=>r()&&n)()}const Tn=e=>()=>j(Jn,{get when(){return e()},keyed:!0,children:t=>j(rr.Provider,{value:t,get children(){return t.outlet()}})}),$t=e=>{const t=Gt(()=>e.children);return Ut(e,{get children(){return t()}})};function Ps([e,t],n,r){return[e,r?i=>t(r(i)):t]}function Ls(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function js(e){let t=!1;const n=i=>typeof i=="string"?{value:i}:i,r=Ps(X(n(e.get()),{equals:(i,s)=>i.value===s.value}),void 0,i=>(!t&&e.set(i),i));return e.init&&Wt(e.init((i=e.get())=>{t=!0,r[1](n(i)),t=!1})),Ts({signal:r,create:e.create,utils:e.utils})}function $s(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Ms(e,t){const n=Ls(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Rs=new Map;function Fs(e=!0,t=!1,n="/_server"){return r=>{const i=r.base.path(),s=r.navigatorFactory(r.base);let o={};function l(m){return m.namespaceURI==="http://www.w3.org/2000/svg"}function c(m){if(m.defaultPrevented||m.button!==0||m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)return;const w=m.composedPath().find(E=>E instanceof Node&&E.nodeName.toUpperCase()==="A");if(!w||t&&!w.hasAttribute("link"))return;const y=l(w),b=y?w.href.baseVal:w.href;if((y?w.target.baseVal:w.target)||!b&&!w.hasAttribute("state"))return;const A=(w.getAttribute("rel")||"").split(/\s+/);if(w.hasAttribute("download")||A&&A.includes("external"))return;const O=y?new URL(b,document.baseURI):new URL(b);if(!(O.origin!==window.location.origin||i&&O.pathname&&!O.pathname.toLowerCase().startsWith(i.toLowerCase())))return[w,O]}function u(m){const w=c(m);if(!w)return;const[y,b]=w,S=r.parsePath(b.pathname+b.search+b.hash),A=y.getAttribute("state");m.preventDefault(),s(S,{resolve:!1,replace:y.hasAttribute("replace"),scroll:!y.hasAttribute("noscroll"),state:A&&JSON.parse(A)})}function f(m){const w=c(m);if(!w)return;const[y,b]=w;o[b.pathname]||r.preloadRoute(b,y.getAttribute("preload")!=="false")}function d(m){const w=c(m);if(!w)return;const[y,b]=w;o[b.pathname]||(o[b.pathname]=setTimeout(()=>{r.preloadRoute(b,y.getAttribute("preload")!=="false"),delete o[b.pathname]},200))}function p(m){const w=c(m);if(!w)return;const[,y]=w;o[y.pathname]&&(clearTimeout(o[y.pathname]),delete o[y.pathname])}function v(m){if(m.defaultPrevented)return;let w=m.submitter&&m.submitter.hasAttribute("formaction")?m.submitter.getAttribute("formaction"):m.target.getAttribute("action");if(!w)return;if(!w.startsWith("https://action/")){const b=new URL(w,Zn);if(w=r.parsePath(b.pathname+b.search),!w.startsWith(n))return}if(m.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const y=Rs.get(w);if(y){m.preventDefault();const b=new FormData(m.target);m.submitter&&m.submitter.name&&b.append(m.submitter.name,m.submitter.value),y.call({r,f:m.target},b)}}Kt(["click","submit"]),document.addEventListener("click",u),e&&(document.addEventListener("mouseover",d),document.addEventListener("mouseout",p),document.addEventListener("focusin",f),document.addEventListener("touchstart",f)),document.addEventListener("submit",v),Wt(()=>{document.removeEventListener("click",u),e&&(document.removeEventListener("mouseover",d),document.removeEventListener("mouseout",p),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",v)})}}function Ds(e){const t=()=>({value:window.location.pathname+window.location.search+window.location.hash,state:window.history.state}),n=Yn();return js({get:t,set({value:r,replace:i,scroll:s,state:o}){i?window.history.replaceState(ds(o),"",r):window.history.pushState(o,"",r),Ms(window.location.hash.slice(1),s),Vt()},init:r=>$s(window,"popstate",gs(r,i=>{if(i&&i<0)return!n.confirm(i);{const s=t();return!n.confirm(s.value,{state:s.state})}})),create:Fs(e.preload,e.explicitLinks,e.actionBase),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}const Bt=Symbol("store-raw"),Ne=Symbol("store-node"),ie=Symbol("store-has"),or=Symbol("store-self");function ar(e){let t=e[J];if(!t&&(Object.defineProperty(e,J,{value:t=new Proxy(e,zs)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,s=n.length;i<s;i++){const o=n[i];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function st(e){let t;return e!=null&&typeof e=="object"&&(e[J]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function De(e,t=new Set){let n,r,i,s;if(n=e!=null&&e[Bt])return n;if(!st(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,l=e.length;o<l;o++)i=e[o],(r=De(i,t))!==i&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let c=0,u=o.length;c<u;c++)s=o[c],!l[s].get&&(i=e[s],(r=De(i,t))!==i&&(e[s]=r))}return e}function ot(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Ue(e,t,n){if(e[t])return e[t];const[r,i]=X(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function Us(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===J||t===Ne||(delete n.value,delete n.writable,n.get=()=>e[J][t]),n}function lr(e){Rt()&&Ue(ot(e,Ne),or)()}function Is(e){return lr(e),Reflect.ownKeys(e)}const zs={get(e,t,n){if(t===Bt)return e;if(t===J)return n;if(t===_n)return lr(e),n;const r=ot(e,Ne),i=r[t];let s=i?i():e[t];if(t===Ne||t===ie||t==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(e,t);Rt()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(s=Ue(r,t,s)())}return st(s)?ar(s):s},has(e,t){return t===Bt||t===J||t===_n||t===Ne||t===ie||t==="__proto__"?!0:(Rt()&&Ue(ot(e,ie),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Is,getOwnPropertyDescriptor:Us};function at(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],s=e.length;n===void 0?(delete e[t],e[ie]&&e[ie][t]&&i!==void 0&&e[ie][t].$()):(e[t]=n,e[ie]&&e[ie][t]&&i===void 0&&e[ie][t].$());let o=ot(e,Ne),l;if((l=Ue(o,t,i))&&l.$(()=>n),Array.isArray(e)&&e.length!==s){for(let c=e.length;c<s;c++)(l=o[c])&&l.$();(l=Ue(o,"length",s))&&l.$(e.length)}(l=o[or])&&l.$()}function cr(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];at(e,i,t[i])}}function Bs(e,t){if(typeof t=="function"&&(t=t(e)),t=De(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&at(e,n,i)}at(e,"length",r)}else cr(e,t)}function Me(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const o=typeof r,l=Array.isArray(e);if(Array.isArray(r)){for(let c=0;c<r.length;c++)Me(e,[r[c]].concat(t),n);return}else if(l&&o==="function"){for(let c=0;c<e.length;c++)r(e[c],c)&&Me(e,[c].concat(t),n);return}else if(l&&o==="object"){const{from:c=0,to:u=e.length-1,by:f=1}=r;for(let d=c;d<=u;d+=f)Me(e,[d].concat(t),n);return}else if(t.length>1){Me(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let s=t[0];typeof s=="function"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=De(s),r===void 0||st(i)&&st(s)&&!Array.isArray(s)?cr(i,s):at(e,r,s))}function Xe(...[e,t]){const n=De(e||{}),r=Array.isArray(n),i=ar(n);function s(...o){Di(()=>{r&&o.length===1?Bs(n,o[0]):Me(n,o)})}return[i,s]}var ks=K("<span class=text-white>About");const Ws=()=>ks();var Gs=K("<svg stroke-width=0>");function Xt(e,t){const n=Ut(e.a,t),[r,i]=Ki(n,["src"]),[s,o]=X(""),l=I(()=>t.title?`${e.c}<title>${t.title}</title>`:e.c);return Bn(()=>o(l())),Wt(()=>{o("")}),(()=>{var c=Gs();return ss(c,Ut({get stroke(){return e.a?.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},i,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return s()}}),!0),M(c,()=>Qn),c})()}function Hs(e){return Xt({a:{fill:"currentColor",viewBox:"0 0 16 16"},c:'<path d="M5.933.87a2.89 2.89 0 0 1 4.134 0l.622.638.89-.011a2.89 2.89 0 0 1 2.924 2.924l-.01.89.636.622a2.89 2.89 0 0 1 0 4.134l-.637.622.011.89a2.89 2.89 0 0 1-2.924 2.924l-.89-.01-.622.636a2.89 2.89 0 0 1-4.134 0l-.622-.637-.89.011a2.89 2.89 0 0 1-2.924-2.924l.01-.89-.636-.622a2.89 2.89 0 0 1 0-4.134l.637-.622-.011-.89a2.89 2.89 0 0 1 2.924-2.924l.89.01.622-.636zM7.002 11a1 1 0 1 0 2 0 1 1 0 0 0-2 0zm1.602-2.027c.04-.534.198-.815.846-1.26.674-.475 1.05-1.09 1.05-1.986 0-1.325-.92-2.227-2.262-2.227-1.02 0-1.792.492-2.1 1.29A1.71 1.71 0 0 0 6 5.48c0 .393.203.64.545.64.272 0 .455-.147.564-.51.158-.592.525-.915 1.074-.915.61 0 1.03.446 1.03 1.084 0 .563-.208.885-.822 1.325-.619.433-.926.914-.926 1.64v.111c0 .428.208.745.585.745.336 0 .504-.24.554-.627z"/>'},e)}var qs=K("<span class=text-white>faq");const Ks=()=>[qs(),j(Hs,{})],Vs={APP_NAME:"Midi Remap",HOME_PAGE_TITLE:"Midi Remap",ABOUT_PAGE_TITLE:"About",FAQ_PAGE_TITLE:"FAQ"},Xs=e=>(t,n)=>(e.set(t,n),n),Cn=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,ur=536870912,Nn=ur*2,Js=(e,t)=>n=>{const r=t.get(n);let i=r===void 0?n.size:r<Nn?r+1:0;if(!n.has(i))return e(n,i);if(n.size<ur){for(;n.has(i);)i=Math.floor(Math.random()*Nn);return e(n,i)}if(n.size>Cn)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(i);)i=Math.floor(Math.random()*Cn);return e(n,i)},fr=new WeakMap,Qs=Xs(fr),Ys=Js(Qs,fr),Zs=e=>typeof e.start=="function",Pn=new WeakMap,eo=e=>({...e,connect:({call:t})=>async()=>{const{port1:n,port2:r}=new MessageChannel,i=await t("connect",{port:n},[n]);return Pn.set(r,i),r},disconnect:({call:t})=>async n=>{const r=Pn.get(n);if(r===void 0)throw new Error("The given port is not connected.");await t("disconnect",{portId:r})},isSupported:({call:t})=>()=>t("isSupported")}),Mt=new WeakMap,to=e=>{if(Mt.has(e))return Mt.get(e);const t=new Map;return Mt.set(e,t),t},no=e=>{const t=eo(e);return n=>{const r=to(n);n.addEventListener("message",({data:l})=>{const{id:c}=l;if(c!==null&&r.has(c)){const{reject:u,resolve:f}=r.get(c);r.delete(c),l.error===void 0?f(l.result):u(new Error(l.error.message))}}),Zs(n)&&n.start();const i=(l,c=null,u=[])=>new Promise((f,d)=>{const p=Ys(r);r.set(p,{reject:d,resolve:f}),c===null?n.postMessage({id:p,method:l},u):n.postMessage({id:p,method:l,params:c},u)}),s=(l,c,u=[])=>{n.postMessage({id:null,method:l,params:c},u)};let o={};for(const[l,c]of Object.entries(t))o={...o,[l]:c({call:i,notify:s})};return{...o}}},ro=no({parseArrayBuffer:({call:e})=>async t=>e("parse",{arrayBuffer:t},[t])}),io=e=>{const t=new Worker(e);return ro(t)},so=`(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var n=e(t);return t.add(n),n}},n=function(e){return function(t,n){return e.set(t,n),n}},r=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,i=function(e,t){return function(n){var i=t.get(n),a=void 0===i?n.size:i<s?i+1:0;if(!n.has(a))return e(n,a);if(n.size<o){for(;n.has(a);)a=Math.floor(Math.random()*s);return e(n,a)}if(n.size>r)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(a);)a=Math.floor(Math.random()*r);return e(n,a)}},a=new WeakMap,f=n(a),c=i(f,a),l=t(c);e.addUniqueNumber=l,e.generateUniqueNumber=c}(t)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}(()=>{"use strict";const e=-32603,t=-32602,r=-32601,o=(e,t)=>Object.assign(new Error(e),{status:t}),s=t=>o('The handler of the method called "'.concat(t,'" returned an unexpected result.'),e),i=(t,n)=>async i=>{let{data:{id:a,method:f,params:c}}=i;const l=n[f];try{if(void 0===l)throw(e=>o('The requested method called "'.concat(e,'" is not supported.'),r))(f);const n=void 0===c?l():l(c);if(void 0===n)throw(t=>o('The handler of the method called "'.concat(t,'" returned no required result.'),e))(f);const i=n instanceof Promise?await n:n;if(null===a){if(void 0!==i.result)throw s(f)}else{if(void 0===i.result)throw s(f);const{result:e,transferables:n=[]}=i;t.postMessage({id:a,result:e},n)}}catch(e){const{message:n,status:r=-32603}=e;t.postMessage({error:{code:r,message:n},id:a})}};var a=n(455);const f=new Map,c=(e,n,r)=>({...n,connect:t=>{let{port:r}=t;r.start();const o=e(r,n),s=(0,a.generateUniqueNumber)(f);return f.set(s,(()=>{o(),r.close(),f.delete(s)})),{result:s}},disconnect:e=>{let{portId:n}=e;const r=f.get(n);if(void 0===r)throw(e=>o('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),t))(n);return r(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:n,port2:r}=new MessageChannel;n.onmessage=t=>{let{data:n}=t;return e(null!==n)},r.postMessage(t,[t])}))){const e=r();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),l=function(e,t){const n=c(l,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),r=i(e,n);return e.addEventListener("message",r),()=>e.removeEventListener("message",r)},u=e=>e.toString(16).toUpperCase().padStart(2,"0"),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength-(t-e.byteOffset);const r=t+e.byteOffset,o=[],s=new Uint8Array(e.buffer,r,n);for(let e=0;e<n;e+=1)o[e]=u(s[e]);return o.join("")},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength-(t-e.byteOffset);const r=t+e.byteOffset,o=new Uint8Array(e.buffer,r,n);return String.fromCharCode.apply(null,o)},h=(e,t,n)=>{let r;const{offset:o,value:s}=y(e,t),i=e.getUint8(o);return r=240===i?U(e,o+1):255===i?p(e,o+1):v(i,e,o+1,n),{...r,event:{...r.event,delta:s},eventTypeByte:i}},m=e=>{if(e.byteLength<14)throw new Error("Expected at least 14 bytes instead of ".concat(e.byteLength));if("MThd"!==g(e,0,4))throw new Error('Unexpected characters "'.concat(g(e,0,4),'" found instead of "MThd"'));if(6!==e.getUint32(4))throw new Error("The header has an unexpected length of ".concat(e.getUint32(4)," instead of 6"));const t=e.getUint16(8),n=e.getUint16(10);return{division:e.getUint16(12),format:t,numberOfTracks:n}},p=(e,t)=>{let n;const r=e.getUint8(t),{offset:o,value:s}=y(e,t+1);if(1===r)n={text:g(e,o,s)};else if(2===r)n={copyrightNotice:g(e,o,s)};else if(3===r)n={trackName:g(e,o,s)};else if(4===r)n={instrumentName:g(e,o,s)};else if(5===r)n={lyric:g(e,o,s)};else if(6===r)n={marker:g(e,o,s)};else if(7===r)n={cuePoint:g(e,o,s)};else if(8===r)n={programName:g(e,o,s)};else if(9===r)n={deviceName:g(e,o,s)};else if(10===r||11===r||12===r||13===r||14===r||15===r)n={metaTypeByte:u(r),text:g(e,o,s)};else if(32===r)n={channelPrefix:e.getUint8(o)};else if(33===r)n={midiPort:e.getUint8(o)};else if(47===r)n={endOfTrack:!0};else if(81===r)n={setTempo:{microsecondsPerQuarter:(e.getUint8(o)<<16)+(e.getUint8(o+1)<<8)+e.getUint8(o+2)}};else if(84===r){let t;const r=e.getUint8(o);96&r?32==(96&r)?t=25:64==(96&r)?t=29:96&~r||(t=30):t=24,n={smpteOffset:{frame:e.getUint8(o+3),frameRate:t,hour:31&r,minutes:e.getUint8(o+1),seconds:e.getUint8(o+2),subFrame:e.getUint8(o+4)}}}else if(88===r)n={timeSignature:{denominator:Math.pow(2,e.getUint8(o+1)),metronome:e.getUint8(o+2),numerator:e.getUint8(o),thirtyseconds:e.getUint8(o+3)}};else if(89===r)n={keySignature:{key:e.getInt8(o),scale:e.getInt8(o+1)}};else{if(127!==r)throw new Error('Cannot parse a meta event with a type of "'.concat(u(r),'"'));n={sequencerSpecificData:d(e,o,s)}}return{event:n,offset:o+s}},v=(e,t,n,r)=>{const o=128&e?null:r,s=(null===o?e:o)>>4;let i,a=null===o?n:n-1;if(8===s)i={noteOff:{noteNumber:t.getUint8(a),velocity:t.getUint8(a+1)}},a+=2;else if(9===s){const e=t.getUint8(a),n=t.getUint8(a+1);i=0===n?{noteOff:{noteNumber:e,velocity:n}}:{noteOn:{noteNumber:e,velocity:n}},a+=2}else if(10===s)i={keyPressure:{noteNumber:t.getUint8(a),pressure:t.getUint8(a+1)}},a+=2;else if(11===s)i={controlChange:{type:t.getUint8(a),value:t.getUint8(a+1)}},a+=2;else if(12===s)i={programChange:{programNumber:t.getUint8(a)}},a+=1;else if(13===s)i={channelPressure:{pressure:t.getUint8(a)}},a+=1;else{if(14!==s)throw new Error('Cannot parse a midi event with a type of "'.concat(u(s),'"'));i={pitchBend:t.getUint8(a)|t.getUint8(a+1)<<7},a+=2}return i.channel=15&(null===o?e:o),{event:i,offset:a}},U=(e,t)=>{const{offset:n,value:r}=y(e,t);return{event:{sysex:d(e,n,r)},offset:n+r}},w=(e,t)=>{if("MTrk"!==g(e,t,4))throw new Error('Unexpected characters "'.concat(g(e,t,4),'" found instead of "MTrk"'));const n=[],r=e.getUint32(t+4)+t+8;let o=null,s=t+8;for(;s<r;){const t=h(e,s,o),{event:r,eventTypeByte:i}=t;n.push(r),s=t.offset,void 0!==r.channel&&(128&i)>0&&(o=i)}return{offset:s,track:n}},y=(e,t)=>{let n=t,r=0;for(;;){const t=e.getUint8(n);if(n+=1,!(t>127))return r+=t,{offset:n,value:r};r+=127&t,r<<=7}};l(self,{parse:e=>{let{arrayBuffer:t}=e;const n=(e=>{const t=new DataView(e),n=m(t);let r=14;const o=[];for(let e=0,s=n.numberOfTracks;e<s;e+=1){let e;({offset:r,track:e}=w(t,r)),o.push(e)}return{division:n.division,format:n.format,tracks:o}})(t);return{result:n}}})})()})();`,oo=new Blob([so],{type:"application/javascript; charset=utf-8"}),hr=URL.createObjectURL(oo),ao=io(hr),lo=ao.parseArrayBuffer;URL.revokeObjectURL(hr);const co=async e=>{try{return await lo(e)}catch(t){return t}},uo="https://midiremap.azurewebsites.net/",dt=async(e,t,n=null,r)=>{try{const i={method:e};return r==null&&(i.body=n??null),r&&(i.contentType=r),(e==="GET"||e==="DELETE")&&delete i.body,await fetch(`${uo}${t}`,i)}catch(i){throw new Error(i)}};var $=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dr={},Pe={},gr={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,d,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,d||c,p),m=n?n+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],v]:c._events[m].push(v):(c._events[m]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=n?n+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,v=d.length,m=new Array(v);p<v;p++)m[p]=d[p].fn;return m},l.prototype.listenerCount=function(u){var f=n?n+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,p,v,m){var w=n?n+u:u;if(!this._events[w])return!1;var y=this._events[w],b=arguments.length,S,A;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,p),!0;case 5:return y.fn.call(y.context,f,d,p,v),!0;case 6:return y.fn.call(y.context,f,d,p,v,m),!0}for(A=1,S=new Array(b-1);A<b;A++)S[A-1]=arguments[A];y.fn.apply(y.context,S)}else{var O=y.length,E;for(A=0;A<O;A++)switch(y[A].once&&this.removeListener(u,y[A].fn,void 0,!0),b){case 1:y[A].fn.call(y[A].context);break;case 2:y[A].fn.call(y[A].context,f);break;case 3:y[A].fn.call(y[A].context,f,d);break;case 4:y[A].fn.call(y[A].context,f,d,p);break;default:if(!S)for(E=1,S=new Array(b-1);E<b;E++)S[E-1]=arguments[E];y[A].fn.apply(y[A].context,S)}}return!0},l.prototype.on=function(u,f,d){return s(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return s(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,p){var v=n?n+u:u;if(!this._events[v])return this;if(!f)return o(this,v),this;var m=this._events[v];if(m.fn)m.fn===f&&(!p||m.once)&&(!d||m.context===d)&&o(this,v);else{for(var w=0,y=[],b=m.length;w<b;w++)(m[w].fn!==f||p&&!m[w].once||d&&m[w].context!==d)&&y.push(m[w]);y.length?this._events[v]=y.length===1?y[0]:y:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(gr);var pr=gr.exports,mr={},gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.coalesceAsync=void 0;const ze=new Map;async function fo(e,t){if(!ho(e)){go(e);try{const n=await Promise.resolve(t());return Ln({key:e,result:n}),n}catch(n){throw Ln({key:e,error:n}),n}}return yo(e)}gt.coalesceAsync=fo;function ho(e){return ze.has(e)}function go(e){ze.set(e,[])}function po(e){ze.delete(e)}function mo(e,t){const n=yr(e);n.push(t),ze.set(e,n)}function yr(e){return ze.get(e)??[]}function yo(e){return new Promise((t,n)=>{mo(e,{resolve:t,reject:n})})}function bo(e){const t=yr(e);return po(e),t}function Ln(e){const{key:t,error:n,result:r}=e;bo(t).forEach(i=>{n?i.reject(n):i.resolve(r)})}(function(e){var t=$&&$.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(i,s);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,l)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=$&&$.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(gt,e)})(mr);var Jt={},pt={},mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.LRUCache=void 0;const Te=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,br=new Set,kt=typeof process=="object"&&process?process:{},wr=(e,t,n,r)=>{typeof kt.emitWarning=="function"?kt.emitWarning(e,t,n,r):console.error(`[${n}] ${t}: ${e}`)};let lt=globalThis.AbortController,jn=globalThis.AbortSignal;if(typeof lt>"u"){jn=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(r,i){this._onabort.push(i)}},lt=class{constructor(){t()}signal=new jn;abort(r){if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(const i of this.signal._onabort)i(r);this.signal.onabort?.(r)}}};let e=kt.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const t=()=>{e&&(e=!1,wr("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const wo=e=>!br.has(e),fe=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),vr=e=>fe(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Ye:null:null;class Ye extends Array{constructor(t){super(t),this.fill(0)}}class Ce{heap;length;static#l=!1;static create(t){const n=vr(t);if(!n)return[];Ce.#l=!0;const r=new Ce(t,n);return Ce.#l=!1,r}constructor(t,n){if(!Ce.#l)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class Qt{#l;#f;#p;#m;#N;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#i;#y;#r;#n;#e;#c;#h;#a;#s;#b;#o;#w;#v;#d;#_;#E;#u;static unsafeExposeInternals(t){return{starts:t.#v,ttls:t.#d,sizes:t.#w,keyMap:t.#r,keyList:t.#n,valList:t.#e,next:t.#c,prev:t.#h,get head(){return t.#a},get tail(){return t.#s},free:t.#b,isBackgroundFetch:n=>t.#t(n),backgroundFetch:(n,r,i,s)=>t.#j(n,r,i,s),moveToTail:n=>t.#C(n),indexes:n=>t.#A(n),rindexes:n=>t.#S(n),isStale:n=>t.#g(n)}}get max(){return this.#l}get maxSize(){return this.#f}get calculatedSize(){return this.#y}get size(){return this.#i}get fetchMethod(){return this.#N}get dispose(){return this.#p}get disposeAfter(){return this.#m}constructor(t){const{max:n=0,ttl:r,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:l,allowStale:c,dispose:u,disposeAfter:f,noDisposeOnSet:d,noUpdateTTL:p,maxSize:v=0,maxEntrySize:m=0,sizeCalculation:w,fetchMethod:y,noDeleteOnFetchRejection:b,noDeleteOnStaleGet:S,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:O,ignoreFetchAbort:E}=t;if(n!==0&&!fe(n))throw new TypeError("max option must be a nonnegative integer");const R=n?vr(n):Array;if(!R)throw new Error("invalid max value: "+n);if(this.#l=n,this.#f=v,this.maxEntrySize=m||this.#f,this.sizeCalculation=w,this.sizeCalculation){if(!this.#f&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(y!==void 0&&typeof y!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#N=y,this.#E=!!y,this.#r=new Map,this.#n=new Array(n).fill(void 0),this.#e=new Array(n).fill(void 0),this.#c=new R(n),this.#h=new R(n),this.#a=0,this.#s=0,this.#b=Ce.create(n),this.#i=0,this.#y=0,typeof u=="function"&&(this.#p=u),typeof f=="function"?(this.#m=f,this.#o=[]):(this.#m=void 0,this.#o=void 0),this.#_=!!this.#p,this.#u=!!this.#m,this.noDisposeOnSet=!!d,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!b,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!O,this.ignoreFetchAbort=!!E,this.maxEntrySize!==0){if(this.#f!==0&&!fe(this.#f))throw new TypeError("maxSize must be a positive integer if specified");if(!fe(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!S,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!l,this.ttlResolution=fe(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=r||0,this.ttl){if(!fe(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#$()}if(this.#l===0&&this.ttl===0&&this.#f===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#l&&!this.#f){const F="LRU_CACHE_UNBOUNDED";wo(F)&&(br.add(F),wr("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",F,Qt))}}getRemainingTTL(t){return this.#r.has(t)?1/0:0}#$(){const t=new Ye(this.#l),n=new Ye(this.#l);this.#d=t,this.#v=n,this.#M=(s,o,l=Te.now())=>{if(n[s]=o!==0?l:0,t[s]=o,o!==0&&this.ttlAutopurge){const c=setTimeout(()=>{this.#g(s)&&this.delete(this.#n[s])},o+1);c.unref&&c.unref()}},this.#x=s=>{n[s]=t[s]!==0?Te.now():0},this.#O=(s,o)=>{if(t[o]){const l=t[o],c=n[o];if(!l||!c)return;s.ttl=l,s.start=c,s.now=r||i();const u=s.now-c;s.remainingTTL=l-u}};let r=0;const i=()=>{const s=Te.now();if(this.ttlResolution>0){r=s;const o=setTimeout(()=>r=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=this.#r.get(s);if(o===void 0)return 0;const l=t[o],c=n[o];if(!l||!c)return 1/0;const u=(r||i())-c;return l-u},this.#g=s=>{const o=n[s],l=t[s];return!!l&&!!o&&(r||i())-o>l}}#x=()=>{};#O=()=>{};#M=()=>{};#g=()=>!1;#U(){const t=new Ye(this.#l);this.#y=0,this.#w=t,this.#T=n=>{this.#y-=t[n],t[n]=0},this.#R=(n,r,i,s)=>{if(this.#t(r))return 0;if(!fe(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(r,n),!fe(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#P=(n,r,i)=>{if(t[n]=r,this.#f){const s=this.#f-t[n];for(;this.#y>s;)this.#L(!0)}this.#y+=t[n],i&&(i.entrySize=r,i.totalCalculatedSize=this.#y)}}#T=t=>{};#P=(t,n,r)=>{};#R=(t,n,r,i)=>{if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#A({allowStale:t=this.allowStale}={}){if(this.#i)for(let n=this.#s;!(!this.#F(n)||((t||!this.#g(n))&&(yield n),n===this.#a));)n=this.#h[n]}*#S({allowStale:t=this.allowStale}={}){if(this.#i)for(let n=this.#a;!(!this.#F(n)||((t||!this.#g(n))&&(yield n),n===this.#s));)n=this.#c[n]}#F(t){return t!==void 0&&this.#r.get(this.#n[t])===t}*entries(){for(const t of this.#A())this.#e[t]!==void 0&&this.#n[t]!==void 0&&!this.#t(this.#e[t])&&(yield[this.#n[t],this.#e[t]])}*rentries(){for(const t of this.#S())this.#e[t]!==void 0&&this.#n[t]!==void 0&&!this.#t(this.#e[t])&&(yield[this.#n[t],this.#e[t]])}*keys(){for(const t of this.#A()){const n=this.#n[t];n!==void 0&&!this.#t(this.#e[t])&&(yield n)}}*rkeys(){for(const t of this.#S()){const n=this.#n[t];n!==void 0&&!this.#t(this.#e[t])&&(yield n)}}*values(){for(const t of this.#A())this.#e[t]!==void 0&&!this.#t(this.#e[t])&&(yield this.#e[t])}*rvalues(){for(const t of this.#S())this.#e[t]!==void 0&&!this.#t(this.#e[t])&&(yield this.#e[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,n={}){for(const r of this.#A()){const i=this.#e[r],s=this.#t(i)?i.__staleWhileFetching:i;if(s!==void 0&&t(s,this.#n[r],this))return this.get(this.#n[r],n)}}forEach(t,n=this){for(const r of this.#A()){const i=this.#e[r],s=this.#t(i)?i.__staleWhileFetching:i;s!==void 0&&t.call(n,s,this.#n[r],this)}}rforEach(t,n=this){for(const r of this.#S()){const i=this.#e[r],s=this.#t(i)?i.__staleWhileFetching:i;s!==void 0&&t.call(n,s,this.#n[r],this)}}purgeStale(){let t=!1;for(const n of this.#S({allowStale:!0}))this.#g(n)&&(this.delete(this.#n[n]),t=!0);return t}info(t){const n=this.#r.get(t);if(n===void 0)return;const r=this.#e[n],i=this.#t(r)?r.__staleWhileFetching:r;if(i===void 0)return;const s={value:i};if(this.#d&&this.#v){const o=this.#d[n],l=this.#v[n];if(o&&l){const c=o-(Te.now()-l);s.ttl=c,s.start=Date.now()}}return this.#w&&(s.size=this.#w[n]),s}dump(){const t=[];for(const n of this.#A({allowStale:!0})){const r=this.#n[n],i=this.#e[n],s=this.#t(i)?i.__staleWhileFetching:i;if(s===void 0||r===void 0)continue;const o={value:s};if(this.#d&&this.#v){o.ttl=this.#d[n];const l=Te.now()-this.#v[n];o.start=Math.floor(Date.now()-l)}this.#w&&(o.size=this.#w[n]),t.unshift([r,o])}return t}load(t){this.clear();for(const[n,r]of t){if(r.start){const i=Date.now()-r.start;r.start=Te.now()-i}this.set(n,r.value,r)}}set(t,n,r={}){if(n===void 0)return this.delete(t),this;const{ttl:i=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:l=this.sizeCalculation,status:c}=r;let{noUpdateTTL:u=this.noUpdateTTL}=r;const f=this.#R(t,n,r.size||0,l);if(this.maxEntrySize&&f>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(t),this;let d=this.#i===0?void 0:this.#r.get(t);if(d===void 0)d=this.#i===0?this.#s:this.#b.length!==0?this.#b.pop():this.#i===this.#l?this.#L(!1):this.#i,this.#n[d]=t,this.#e[d]=n,this.#r.set(t,d),this.#c[this.#s]=d,this.#h[d]=this.#s,this.#s=d,this.#i++,this.#P(d,f,c),c&&(c.set="add"),u=!1;else{this.#C(d);const p=this.#e[d];if(n!==p){if(this.#E&&this.#t(p)){p.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:v}=p;v!==void 0&&!o&&(this.#_&&this.#p?.(v,t,"set"),this.#u&&this.#o?.push([v,t,"set"]))}else o||(this.#_&&this.#p?.(p,t,"set"),this.#u&&this.#o?.push([p,t,"set"]));if(this.#T(d),this.#P(d,f,c),this.#e[d]=n,c){c.set="replace";const v=p&&this.#t(p)?p.__staleWhileFetching:p;v!==void 0&&(c.oldValue=v)}}else c&&(c.set="update")}if(i!==0&&!this.#d&&this.#$(),this.#d&&(u||this.#M(d,i,s),c&&this.#O(c,d)),!o&&this.#u&&this.#o){const p=this.#o;let v;for(;v=p?.shift();)this.#m?.(...v)}return this}pop(){try{for(;this.#i;){const t=this.#e[this.#a];if(this.#L(!0),this.#t(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#u&&this.#o){const t=this.#o;let n;for(;n=t?.shift();)this.#m?.(...n)}}}#L(t){const n=this.#a,r=this.#n[n],i=this.#e[n];return this.#E&&this.#t(i)?i.__abortController.abort(new Error("evicted")):(this.#_||this.#u)&&(this.#_&&this.#p?.(i,r,"evict"),this.#u&&this.#o?.push([i,r,"evict"])),this.#T(n),t&&(this.#n[n]=void 0,this.#e[n]=void 0,this.#b.push(n)),this.#i===1?(this.#a=this.#s=0,this.#b.length=0):this.#a=this.#c[n],this.#r.delete(r),this.#i--,n}has(t,n={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=n,s=this.#r.get(t);if(s!==void 0){const o=this.#e[s];if(this.#t(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#g(s))i&&(i.has="stale",this.#O(i,s));else return r&&this.#x(s),i&&(i.has="hit",this.#O(i,s)),!0}else i&&(i.has="miss");return!1}peek(t,n={}){const{allowStale:r=this.allowStale}=n,i=this.#r.get(t);if(i===void 0||!r&&this.#g(i))return;const s=this.#e[i];return this.#t(s)?s.__staleWhileFetching:s}#j(t,n,r,i){const s=n===void 0?void 0:this.#e[n];if(this.#t(s))return s;const o=new lt,{signal:l}=r;l?.addEventListener("abort",()=>o.abort(l.reason),{signal:o.signal});const c={signal:o.signal,options:r,context:i},u=(w,y=!1)=>{const{aborted:b}=o.signal,S=r.ignoreFetchAbort&&w!==void 0;if(r.status&&(b&&!y?(r.status.fetchAborted=!0,r.status.fetchError=o.signal.reason,S&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),b&&!S&&!y)return d(o.signal.reason);const A=v;return this.#e[n]===v&&(w===void 0?A.__staleWhileFetching?this.#e[n]=A.__staleWhileFetching:this.delete(t):(r.status&&(r.status.fetchUpdated=!0),this.set(t,w,c.options))),w},f=w=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=w),d(w)),d=w=>{const{aborted:y}=o.signal,b=y&&r.allowStaleOnFetchAbort,S=b||r.allowStaleOnFetchRejection,A=S||r.noDeleteOnFetchRejection,O=v;if(this.#e[n]===v&&(!A||O.__staleWhileFetching===void 0?this.delete(t):b||(this.#e[n]=O.__staleWhileFetching)),S)return r.status&&O.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),O.__staleWhileFetching;if(O.__returned===O)throw w},p=(w,y)=>{const b=this.#N?.(t,s,c);b&&b instanceof Promise&&b.then(S=>w(S===void 0?void 0:S),y),o.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(w(void 0),r.allowStaleOnFetchAbort&&(w=S=>u(S,!0)))})};r.status&&(r.status.fetchDispatched=!0);const v=new Promise(p).then(u,f),m=Object.assign(v,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return n===void 0?(this.set(t,m,{...c.options,status:void 0}),n=this.#r.get(t)):this.#e[n]=m,m}#t(t){if(!this.#E)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof lt}async fetch(t,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:c=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:v=this.ignoreFetchAbort,allowStaleOnFetchAbort:m=this.allowStaleOnFetchAbort,context:w,forceRefresh:y=!1,status:b,signal:S}=n;if(!this.#E)return b&&(b.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:b});const A={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:l,size:c,sizeCalculation:u,noUpdateTTL:f,noDeleteOnFetchRejection:d,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:m,ignoreFetchAbort:v,status:b,signal:S};let O=this.#r.get(t);if(O===void 0){b&&(b.fetch="miss");const E=this.#j(t,O,A,w);return E.__returned=E}else{const E=this.#e[O];if(this.#t(E)){const te=r&&E.__staleWhileFetching!==void 0;return b&&(b.fetch="inflight",te&&(b.returnedStale=!0)),te?E.__staleWhileFetching:E.__returned=E}const R=this.#g(O);if(!y&&!R)return b&&(b.fetch="hit"),this.#C(O),i&&this.#x(O),b&&this.#O(b,O),E;const F=this.#j(t,O,A,w),ee=F.__staleWhileFetching!==void 0&&r;return b&&(b.fetch=R?"stale":"refresh",ee&&R&&(b.returnedStale=!0)),ee?F.__staleWhileFetching:F.__returned=F}}get(t,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=n,l=this.#r.get(t);if(l!==void 0){const c=this.#e[l],u=this.#t(c);return o&&this.#O(o,l),this.#g(l)?(o&&(o.get="stale"),u?(o&&r&&c.__staleWhileFetching!==void 0&&(o.returnedStale=!0),r?c.__staleWhileFetching:void 0):(s||this.delete(t),o&&r&&(o.returnedStale=!0),r?c:void 0)):(o&&(o.get="hit"),u?c.__staleWhileFetching:(this.#C(l),i&&this.#x(l),c))}else o&&(o.get="miss")}#D(t,n){this.#h[n]=t,this.#c[t]=n}#C(t){t!==this.#s&&(t===this.#a?this.#a=this.#c[t]:this.#D(this.#h[t],this.#c[t]),this.#D(this.#s,t),this.#s=t)}delete(t){let n=!1;if(this.#i!==0){const r=this.#r.get(t);if(r!==void 0)if(n=!0,this.#i===1)this.clear();else{this.#T(r);const i=this.#e[r];if(this.#t(i)?i.__abortController.abort(new Error("deleted")):(this.#_||this.#u)&&(this.#_&&this.#p?.(i,t,"delete"),this.#u&&this.#o?.push([i,t,"delete"])),this.#r.delete(t),this.#n[r]=void 0,this.#e[r]=void 0,r===this.#s)this.#s=this.#h[r];else if(r===this.#a)this.#a=this.#c[r];else{const s=this.#h[r];this.#c[s]=this.#c[r];const o=this.#c[r];this.#h[o]=this.#h[r]}this.#i--,this.#b.push(r)}}if(this.#u&&this.#o?.length){const r=this.#o;let i;for(;i=r?.shift();)this.#m?.(...i)}return n}clear(){for(const t of this.#S({allowStale:!0})){const n=this.#e[t];if(this.#t(n))n.__abortController.abort(new Error("deleted"));else{const r=this.#n[t];this.#_&&this.#p?.(n,r,"delete"),this.#u&&this.#o?.push([n,r,"delete"])}}if(this.#r.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#d&&this.#v&&(this.#d.fill(0),this.#v.fill(0)),this.#w&&this.#w.fill(0),this.#a=0,this.#s=0,this.#b.length=0,this.#y=0,this.#i=0,this.#u&&this.#o){const t=this.#o;let n;for(;n=t?.shift();)this.#m?.(...n)}}}mt.LRUCache=Qt;var ct={exports:{}};ct.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",v="[object Number]",m="[object Object]",w="[object Promise]",y="[object RegExp]",b="[object Set]",S="[object String]",A="[object Symbol]",O="[object WeakMap]",E="[object ArrayBuffer]",R="[object DataView]",F="[object Float32Array]",Q="[object Float64Array]",ee="[object Int8Array]",te="[object Int16Array]",oe="[object Int32Array]",x="[object Uint8Array]",P="[object Uint8ClampedArray]",z="[object Uint16Array]",ae="[object Uint32Array]",ge=/[\\^$.*+?()[\]{}|]/g,Y=/\w*$/,W=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,T={};T[s]=T[o]=T[E]=T[R]=T[l]=T[c]=T[F]=T[Q]=T[ee]=T[te]=T[oe]=T[p]=T[v]=T[m]=T[y]=T[b]=T[S]=T[A]=T[x]=T[P]=T[z]=T[ae]=!0,T[u]=T[f]=T[O]=!1;var Le=typeof $=="object"&&$&&$.Object===Object&&$,bt=typeof self=="object"&&self&&self.Object===Object&&self,V=Le||bt||Function("return this")(),Be=t&&!t.nodeType&&t,N=Be&&!0&&e&&!e.nodeType&&e,k=N&&N.exports===Be;function pe(a,h){return a.set(h[0],h[1]),a}function _e(a,h){return a.add(h),a}function le(a,h){for(var g=-1,_=a?a.length:0;++g<_&&h(a[g],g,a)!==!1;);return a}function me(a,h){for(var g=-1,_=h.length,U=a.length;++g<_;)a[U+g]=h[g];return a}function ye(a,h,g,_){for(var U=-1,G=a?a.length:0;++U<G;)g=h(g,a[U],U,a);return g}function Ar(a,h){for(var g=-1,_=Array(a);++g<a;)_[g]=h(g);return _}function Sr(a,h){return a?.[h]}function Yt(a){var h=!1;if(a!=null&&typeof a.toString!="function")try{h=!!(a+"")}catch{}return h}function Zt(a){var h=-1,g=Array(a.size);return a.forEach(function(_,U){g[++h]=[U,_]}),g}function wt(a,h){return function(g){return a(h(g))}}function en(a){var h=-1,g=Array(a.size);return a.forEach(function(_){g[++h]=_}),g}var Or=Array.prototype,Er=Function.prototype,ke=Object.prototype,vt=V["__core-js_shared__"],tn=function(){var a=/[^.]+$/.exec(vt&&vt.keys&&vt.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),nn=Er.toString,ce=ke.hasOwnProperty,We=ke.toString,xr=RegExp("^"+nn.call(ce).replace(ge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rn=k?V.Buffer:void 0,sn=V.Symbol,on=V.Uint8Array,Tr=wt(Object.getPrototypeOf,Object),Cr=Object.create,Nr=ke.propertyIsEnumerable,Pr=Or.splice,an=Object.getOwnPropertySymbols,Lr=rn?rn.isBuffer:void 0,jr=wt(Object.keys,Object),_t=Oe(V,"DataView"),je=Oe(V,"Map"),At=Oe(V,"Promise"),St=Oe(V,"Set"),Ot=Oe(V,"WeakMap"),$e=Oe(Object,"create"),$r=ve(_t),Mr=ve(je),Rr=ve(At),Fr=ve(St),Dr=ve(Ot),ln=sn?sn.prototype:void 0,cn=ln?ln.valueOf:void 0;function be(a){var h=-1,g=a?a.length:0;for(this.clear();++h<g;){var _=a[h];this.set(_[0],_[1])}}function Ur(){this.__data__=$e?$e(null):{}}function Ir(a){return this.has(a)&&delete this.__data__[a]}function zr(a){var h=this.__data__;if($e){var g=h[a];return g===r?void 0:g}return ce.call(h,a)?h[a]:void 0}function Br(a){var h=this.__data__;return $e?h[a]!==void 0:ce.call(h,a)}function kr(a,h){var g=this.__data__;return g[a]=$e&&h===void 0?r:h,this}be.prototype.clear=Ur,be.prototype.delete=Ir,be.prototype.get=zr,be.prototype.has=Br,be.prototype.set=kr;function ne(a){var h=-1,g=a?a.length:0;for(this.clear();++h<g;){var _=a[h];this.set(_[0],_[1])}}function Wr(){this.__data__=[]}function Gr(a){var h=this.__data__,g=Ge(h,a);if(g<0)return!1;var _=h.length-1;return g==_?h.pop():Pr.call(h,g,1),!0}function Hr(a){var h=this.__data__,g=Ge(h,a);return g<0?void 0:h[g][1]}function qr(a){return Ge(this.__data__,a)>-1}function Kr(a,h){var g=this.__data__,_=Ge(g,a);return _<0?g.push([a,h]):g[_][1]=h,this}ne.prototype.clear=Wr,ne.prototype.delete=Gr,ne.prototype.get=Hr,ne.prototype.has=qr,ne.prototype.set=Kr;function Ae(a){var h=-1,g=a?a.length:0;for(this.clear();++h<g;){var _=a[h];this.set(_[0],_[1])}}function Vr(){this.__data__={hash:new be,map:new(je||ne),string:new be}}function Xr(a){return He(this,a).delete(a)}function Jr(a){return He(this,a).get(a)}function Qr(a){return He(this,a).has(a)}function Yr(a,h){return He(this,a).set(a,h),this}Ae.prototype.clear=Vr,Ae.prototype.delete=Xr,Ae.prototype.get=Jr,Ae.prototype.has=Qr,Ae.prototype.set=Yr;function Se(a){this.__data__=new ne(a)}function Zr(){this.__data__=new ne}function ei(a){return this.__data__.delete(a)}function ti(a){return this.__data__.get(a)}function ni(a){return this.__data__.has(a)}function ri(a,h){var g=this.__data__;if(g instanceof ne){var _=g.__data__;if(!je||_.length<n-1)return _.push([a,h]),this;g=this.__data__=new Ae(_)}return g.set(a,h),this}Se.prototype.clear=Zr,Se.prototype.delete=ei,Se.prototype.get=ti,Se.prototype.has=ni,Se.prototype.set=ri;function ii(a,h){var g=Tt(a)||Ci(a)?Ar(a.length,String):[],_=g.length,U=!!_;for(var G in a)ce.call(a,G)&&!(U&&(G=="length"||Oi(G,_)))&&g.push(G);return g}function un(a,h,g){var _=a[h];(!(ce.call(a,h)&&gn(_,g))||g===void 0&&!(h in a))&&(a[h]=g)}function Ge(a,h){for(var g=a.length;g--;)if(gn(a[g][0],h))return g;return-1}function si(a,h){return a&&fn(h,Ct(h),a)}function Et(a,h,g,_,U,G,re){var H;if(_&&(H=G?_(a,U,G,re):_(a)),H!==void 0)return H;if(!qe(a))return a;var yn=Tt(a);if(yn){if(H=_i(a),!h)return bi(a,H)}else{var Ee=we(a),bn=Ee==f||Ee==d;if(Pi(a))return fi(a,h);if(Ee==m||Ee==s||bn&&!G){if(Yt(a))return G?a:{};if(H=Ai(bn?{}:a),!h)return wi(a,si(H,a))}else{if(!T[Ee])return G?a:{};H=Si(a,Ee,Et,h)}}re||(re=new Se);var wn=re.get(a);if(wn)return wn;if(re.set(a,H),!yn)var vn=g?vi(a):Ct(a);return le(vn||a,function(Nt,Ke){vn&&(Ke=Nt,Nt=a[Ke]),un(H,Ke,Et(Nt,h,g,_,Ke,a,re))}),H}function oi(a){return qe(a)?Cr(a):{}}function ai(a,h,g){var _=h(a);return Tt(a)?_:me(_,g(a))}function li(a){return We.call(a)}function ci(a){if(!qe(a)||xi(a))return!1;var h=mn(a)||Yt(a)?xr:W;return h.test(ve(a))}function ui(a){if(!dn(a))return jr(a);var h=[];for(var g in Object(a))ce.call(a,g)&&g!="constructor"&&h.push(g);return h}function fi(a,h){if(h)return a.slice();var g=new a.constructor(a.length);return a.copy(g),g}function xt(a){var h=new a.constructor(a.byteLength);return new on(h).set(new on(a)),h}function hi(a,h){var g=h?xt(a.buffer):a.buffer;return new a.constructor(g,a.byteOffset,a.byteLength)}function di(a,h,g){var _=h?g(Zt(a),!0):Zt(a);return ye(_,pe,new a.constructor)}function gi(a){var h=new a.constructor(a.source,Y.exec(a));return h.lastIndex=a.lastIndex,h}function pi(a,h,g){var _=h?g(en(a),!0):en(a);return ye(_,_e,new a.constructor)}function mi(a){return cn?Object(cn.call(a)):{}}function yi(a,h){var g=h?xt(a.buffer):a.buffer;return new a.constructor(g,a.byteOffset,a.length)}function bi(a,h){var g=-1,_=a.length;for(h||(h=Array(_));++g<_;)h[g]=a[g];return h}function fn(a,h,g,_){g||(g={});for(var U=-1,G=h.length;++U<G;){var re=h[U],H=void 0;un(g,re,H===void 0?a[re]:H)}return g}function wi(a,h){return fn(a,hn(a),h)}function vi(a){return ai(a,Ct,hn)}function He(a,h){var g=a.__data__;return Ei(h)?g[typeof h=="string"?"string":"hash"]:g.map}function Oe(a,h){var g=Sr(a,h);return ci(g)?g:void 0}var hn=an?wt(an,Object):$i,we=li;(_t&&we(new _t(new ArrayBuffer(1)))!=R||je&&we(new je)!=p||At&&we(At.resolve())!=w||St&&we(new St)!=b||Ot&&we(new Ot)!=O)&&(we=function(a){var h=We.call(a),g=h==m?a.constructor:void 0,_=g?ve(g):void 0;if(_)switch(_){case $r:return R;case Mr:return p;case Rr:return w;case Fr:return b;case Dr:return O}return h});function _i(a){var h=a.length,g=a.constructor(h);return h&&typeof a[0]=="string"&&ce.call(a,"index")&&(g.index=a.index,g.input=a.input),g}function Ai(a){return typeof a.constructor=="function"&&!dn(a)?oi(Tr(a)):{}}function Si(a,h,g,_){var U=a.constructor;switch(h){case E:return xt(a);case l:case c:return new U(+a);case R:return hi(a,_);case F:case Q:case ee:case te:case oe:case x:case P:case z:case ae:return yi(a,_);case p:return di(a,_,g);case v:case S:return new U(a);case y:return gi(a);case b:return pi(a,_,g);case A:return mi(a)}}function Oi(a,h){return h=h??i,!!h&&(typeof a=="number"||D.test(a))&&a>-1&&a%1==0&&a<h}function Ei(a){var h=typeof a;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?a!=="__proto__":a===null}function xi(a){return!!tn&&tn in a}function dn(a){var h=a&&a.constructor,g=typeof h=="function"&&h.prototype||ke;return a===g}function ve(a){if(a!=null){try{return nn.call(a)}catch{}try{return a+""}catch{}}return""}function Ti(a){return Et(a,!0,!0)}function gn(a,h){return a===h||a!==a&&h!==h}function Ci(a){return Ni(a)&&ce.call(a,"callee")&&(!Nr.call(a,"callee")||We.call(a)==s)}var Tt=Array.isArray;function pn(a){return a!=null&&Li(a.length)&&!mn(a)}function Ni(a){return ji(a)&&pn(a)}var Pi=Lr||Mi;function mn(a){var h=qe(a)?We.call(a):"";return h==f||h==d}function Li(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=i}function qe(a){var h=typeof a;return!!a&&(h=="object"||h=="function")}function ji(a){return!!a&&typeof a=="object"}function Ct(a){return pn(a)?ii(a):ui(a)}function $i(){return[]}function Mi(){return!1}e.exports=Ti})(ct,ct.exports);var vo=ct.exports,_o=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pt,"__esModule",{value:!0});pt.memoryStore=void 0;const Ao=mt,So=_o(vo);function $n(e){return typeof e=="object"&&e!==null?(0,So.default)(e):e}function Oo(e){const t=e?.shouldCloneBeforeSet!==!1,n=e?.isCacheable??(s=>s!==void 0),r={ttlAutopurge:!0,...e,max:e?.max??500,ttl:e?.ttl===void 0?0:e.ttl},i=new Ao.LRUCache(r);return{async del(s){i.delete(s)},get:async s=>i.get(s),keys:async()=>[...i.keys()],mget:async(...s)=>s.map(o=>i.get(o)),async mset(s,o){const l={ttl:o??r.ttl};for(const[c,u]of s){if(!n(u))throw new Error(`no cacheable value ${JSON.stringify(u)}`);t?i.set(c,$n(u),l):i.set(c,u,l)}},async mdel(...s){for(const o of s)i.delete(o)},async reset(){i.clear()},ttl:async s=>i.getRemainingTTL(s),async set(s,o,l){if(!n(o))throw new Error(`no cacheable value ${JSON.stringify(o)}`);t&&(o=$n(o));const c=l??r.ttl;i.set(s,o,{ttl:c})},get calculatedSize(){return i.calculatedSize},get size(){return i.size},dump:()=>i.dump(),load(...s){i.load(...s)}}}pt.memoryStore=Oo;(function(e){var t=$&&$.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(i,s);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,l)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=$&&$.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(pt,e)})(Jt);var Eo=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.createCache=Pe.caching=void 0;const xo=Eo(pr),Mn=mr,To=Jt;async function Co(e,t){if(e==="memory"){const r=(0,To.memoryStore)(t);return Ze(r,t)}if(typeof e=="function"){const r=await e(t);return Ze(r,t)}return Ze(e,t)}Pe.caching=Co;function Ze(e,t){const n=new xo.default;return{async wrap(r,i,s,o){const l=o??t?.refreshThreshold??0;return(0,Mn.coalesceAsync)(r,async()=>{const c=await e.get(r).catch(u=>{n.emit("error",u)});if(c===void 0){const u=await i(),f=typeof s=="function"?s(u):s;return await e.set(r,u,f).catch(d=>n.emit("error",d)),u}if(l){const u=typeof s=="function"?s(c):s,f=await e.ttl(r);f!==-1&&f<l&&(0,Mn.coalesceAsync)(`+++${r}`,i).then(async d=>e.set(r,d,u)).catch(async d=>{if(n.emit("error",d),n.emit("onBackgroundRefreshError",d),t?.onBackgroundRefreshError)t.onBackgroundRefreshError(d);else throw d})}return c})},store:e,del:async r=>e.del(r),get:async r=>e.get(r),set:async(r,i,s)=>e.set(r,i,s),reset:async()=>e.reset(),on:(r,i)=>n.on("error",i)}}Pe.createCache=Ze;var yt={},No=$&&$.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yt,"__esModule",{value:!0});yt.multiCaching=void 0;const Po=No(pr);function Lo(e){const t=new Po.default,n=async i=>{for(const s of e)try{const o=await s.get(i);if(o!==void 0)return o}catch(o){t.emit("error",o)}},r=async(i,s,o)=>{await Promise.all(e.map(async l=>l.set(i,s,o))).catch(l=>t.emit("error",l))};return{get:n,set:r,async del(i){await Promise.all(e.map(async s=>s.del(i))).catch(s=>t.emit("error",s))},async wrap(i,s,o,l){let c,u=0;for(;u<e.length;u++)try{if(c=await e[u].get(i),c!==void 0)break}catch(d){t.emit("error",d)}if(c===void 0){const d=await s(),p=typeof o=="function"?o(d):o;return await r(i,d,p),d}const f=typeof o=="function"?o(c):o;return await Promise.all(e.slice(0,u).map(async d=>d.set(i,c,f))).then().catch(d=>t.emit("error",d)),await e[u].wrap(i,s,o,l).then(),c},async reset(){await Promise.all(e.map(async i=>i.reset())).catch(i=>t.emit("error",i))},async mget(...i){const s=Array.from({length:i.length}).fill(void 0);for(const o of e){if(s.every(l=>l!==void 0))break;try{const l=await o.store.mget(...i);for(const[c,u]of l.entries())s[c]===void 0&&u!==void 0&&(s[c]=u)}catch(l){t.emit("error",l)}}return s},async mset(i,s){await Promise.all(e.map(async o=>o.store.mset(i,s))).catch(o=>t.emit("error",o))},async mdel(...i){await Promise.all(e.map(async s=>s.store.mdel(...i))).catch(s=>t.emit("error",s))},on:(i,s)=>t.on("error",s)}}yt.multiCaching=Lo;(function(e){var t=$&&$.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(i,s);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,l)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=$&&$.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(Pe,e),n(yt,e),n(Jt,e)})(dr);const ut=await dr.caching("memory",{max:100,ttl:1e3*60*60*12}),jo=async()=>{const e=await ut.get("libraryList");if(e)return e;const n=await(await dt("GET","api/MidiData/getLibraryList",null,"application/json")).json();return ut.set("libraryList",n),n},Rn=async e=>await(await dt("GET",`api/MidiData/getNoteListById?id=${e}`,null,"application/json")).json(),_r=async()=>{const e=await ut.get("allNotes");if(e)return e;const n=await(await dt("GET","api/MidiData/getMidiNoteList",null,"application/json")).json();return ut.set("allNotes",n),n},$o=async(e,t,n,r,i)=>{const s=[],o=new Map,l=new Map,c=new Map;n.forEach(f=>{f?.noteOn&&c.set(f.noteOn.noteNumber,f)}),e.forEach(f=>{l.set(f.midiNoteNumber,{FromId:r,FromNoteNumber:f.midiNoteNumber,fromDrumNote:f.drumNote,fromMidiNote:f.midiNote,fromToRelation:f.drumNotesId})}),t.forEach(f=>{o.set(f.drumNotesId,{ToId:i,ToNoteNumber:f.midiNoteNumber,toDrumNote:f.drumNote,toMidiNote:f.midiNote})});const u=new Map((await _r()).map(f=>[f.midiNoteNumber,f]));return c.forEach(f=>{const d=f?.noteOn?f.noteOn.noteNumber:f.noteOff.noteNumber,p=l.get(d),v=u.get(d),m=o.get(p?.fromToRelation);s.push({FromId:r,ToId:i,FromNoteNumber:p?.FromNoteNumber||v?.midiNoteNumber,ToNoteNumber:m?m.ToNoteNumber:null,fromDrumNote:p?.fromDrumNote||"",fromMidiNote:p?.fromMidiNote||v?.noteName,toDrumNote:m?.toDrumNote||"",toMidiNote:m?.toMidiNote||""})}),s},Mo=async(e,t)=>{const n=e.map(({FromId:s,ToId:o,FromNoteNumber:l,ToNoteNumber:c})=>({FromId:s,ToId:o,FromNoteNumber:l,ToNoteNumber:c}));if(!t)return;const r=new FormData;return r.append("convertDataList",JSON.stringify(n)),r.append("midiFile",t),await(await dt("POST","api/MidiData/upload",r)).json()};var Ro=K('<div class="flex justify-center"><div class=w-1/1><select id=current-library-id name=current-library-id class="mt-1 block w-full min-w-60 pl-3 pr-10 py-2 text-base text-gray-800 border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"><option value=""class="">-'),Fo=K('<option class=""> ');const Do=e=>{const[t,n]=X([]);_r().then(i=>n(i));const r=new Map(e.toNotes.map(i=>[i.midiNoteNumber,i.drumNote]));return(()=>{var i=Ro(),s=i.firstChild,o=s.firstChild;return o.firstChild,M(o,()=>t().map(l=>(()=>{var c=Fo(),u=c.firstChild;return M(c,()=>l.noteName,u),M(c,()=>r.get(l.midiNoteNumber),null),q(()=>c.selected=e.toMidiNote==l.noteName||e.fromNoteNumber==l.midiNoteNumber),q(()=>c.value=l.midiNoteNumber),c})()),null),i})()};function Fn(e){return Xt({a:{viewBox:"0 0 24 24"},c:'<path d="M21.775 7.517H24v8.966h-2.225zm-8.562 0h6.506c.66 0 1.045.57 1.045 1.247v6.607c0 .84-.35 1.112-1.112 1.112h-6.439v-5.696h2.225v3.505h3.135V9.54h-5.36zm-3.235 0h2.19v8.966h-2.19zM0 7.517h7.854c.66 0 1.045.57 1.045 1.247v7.72H6.708v-6.71H5.427v6.708H3.438V9.775H2.191v6.708H0Z"/>'},e)}function Uo(e){return Xt({a:{viewBox:"0 0 1024 1024"},c:'<path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 0 1-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"/>'},e)}var Io=K('<div class="grid grid-rows-2 justify-center"><form class="w-full max-w-screen-lg"><div class="flex justify-center"><h1 class="text-4xl text-center mb-4"></h1></div><div class="flex flex-wrap -mx-3 mb-6"><div class="w-full md:w-1/2 px-3 mb-6 md:mb-0"><label class="block tracking-wide text-primary text-xs font-bold mb-2"for=grid-first-name>Current library</label><select id=current-library-id class="block appearance-none w-full min-w-[500px] text-secondary bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline"><option>choose library</option></select></div><div class="w-full md:w-1/2 px-3"><label class="block tracking-wide text-primary text-xs font-bold mb-2"for=grid-last-name>Library to remap</label><select id=library-to-remap-id class="block appearance-none w-full min-w-[500px] text-secondary bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline"><option>choose library</option></select></div></div><div class="flex flex-wrap -mx-3 mb-6 justify-evenly"><div class="flex items-center justify-center w-1/2"><label for=dropzone-file class="flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"><div class="flex flex-col items-center justify-center pt-5 pb-6"><svg class="w-8 h-8 mb-4 text-gray-500 dark:text-gray-400"aria-hidden=true xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 20 16"><path stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"></path></svg><p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span class=font-semibold>Click to upload</span> or drag and drop</p><p class="text-xs text-gray-500 dark:text-gray-400">MIDI</p></div><input id=dropzone-file type=file class=hidden></label></div><div class="flex items-center"><button type=submit id=convert-midi>Remap your </button><a>Download </a><a href=""></a></div></div></form><div class="max-h-96 overflow-y-auto w-full"><div class="w-full max-w-screen-lg"><div class=px-0><div class="flex flex-wrap mx-3 mb-6">'),Dn=K("<option>"),zo=K('<div class="w-full px-3"><div class="flex items-center justify-between bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg p-3"><div class="flex items-center"><div class="text-sm font-semibold"> <br> ');const Bo="https://midiremap.azurewebsites.net/",ko=()=>{const[e,t]=Xe([]),[n,r]=Xe([]),[i,s]=Xe([]),[o,l]=X(null),[c,u]=Xe([]),[f,d]=X(!0),[p,v]=X(null),m=async b=>{const S=b.target;await w();const A=S.files?.[0];if(!A)return console.error("Error reading file");l(A);const O=await co(await A?.arrayBuffer());if(!O)return console.error("Error parsing midi file");const E=document.getElementById("current-library-id"),R=document.getElementById("library-to-remap-id");d(!f);const F=await $o(n,i,O?.tracks[0],+E.value,+R.value);u(F)},w=async()=>{const b=document.getElementById("current-library-id"),S=document.getElementById("library-to-remap-id"),A=document.getElementById("dropzone-file");if(b.value!==""&&b.value!=="choose library"&&S.value!==""&&S.value!=="choose library"&&A.value!==""){const[O,E]=await Promise.all([Rn(+b.value),Rn(+S.value)]);r(O),s(E)}},y=async b=>{if(b.preventDefault(),o()!==null){const S=await Mo(c,o());S?.fileName&&v(S.fileName)}};return Bn(async()=>{const b=await jo();t(b)}),(()=>{var b=Io(),S=b.firstChild,A=S.firstChild,O=A.firstChild,E=A.nextSibling,R=E.firstChild,F=R.firstChild,Q=F.nextSibling;Q.firstChild;var ee=R.nextSibling,te=ee.firstChild,oe=te.nextSibling;oe.firstChild;var x=E.nextSibling,P=x.firstChild,z=P.firstChild,ae=z.firstChild,ge=ae.nextSibling,Y=P.nextSibling,W=Y.firstChild;W.firstChild;var D=W.nextSibling;D.firstChild;var T=D.nextSibling,Le=S.nextSibling,bt=Le.firstChild,V=bt.firstChild,Be=V.firstChild;return M(O,()=>Vs.HOME_PAGE_TITLE),Q.addEventListener("change",w),M(Q,()=>e.map(N=>(()=>{var k=Dn();return M(k,()=>N.libraryName),q(()=>k.value=N.id),k})()),null),oe.addEventListener("change",w),M(oe,()=>e.map(N=>(()=>{var k=Dn();return M(k,()=>N.libraryName),q(()=>k.value=N.id),k})()),null),ge.addEventListener("change",m),W.$$click=y,M(W,j(Fn,{size:50}),null),D.$$click=()=>setTimeout(()=>v(null),5e3),M(D,j(Fn,{size:50}),null),T.$$click=()=>v(null),M(T,j(Uo,{size:30,color:"#A14A4A"})),M(Be,()=>c.map(N=>(()=>{var k=zo(),pe=k.firstChild,_e=pe.firstChild,le=_e.firstChild,me=le.firstChild,ye=me.nextSibling;return ye.nextSibling,M(le,()=>N.fromMidiNote,me),M(le,()=>N.fromDrumNote,null),M(pe,j(Do,{get toMidiNote(){return N.toMidiNote},get toDrumNote(){return N.toDrumNote},toNotes:i,get fromNoteNumber(){return N.FromNoteNumber}}),null),k})())),q(N=>{var k=f(),pe=`${p()&&"hidden"} ${f()?"bg-slate-600":"bg-button-default hover:bg-button-hover"} align-middle text-white font-bold py-4 px-8 w-40 rounded`,_e=`${p()===null?"hidden":"bg-emerald-600 hover:bg-button-hover"} align-middle text-white font-bold py-4 px-8  w-40 rounded`,le=`${Bo}api/MidiData/downloadFile?fileName=${p()}`,me=p(),ye=`z-50 mb-28 ${p()===null&&"hidden"}`;return k!==N.e&&(W.disabled=N.e=k),pe!==N.t&&Je(W,N.t=pe),_e!==N.a&&Je(D,N.a=_e),le!==N.o&&Fe(D,"href",N.o=le),me!==N.i&&Fe(D,"download",N.i=me),ye!==N.n&&Je(T,N.n=ye),N},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),b})()};Kt(["click"]);const Wo=()=>j(Ds,{get children(){return[j($t,{path:"/",component:ko}),j($t,{path:"/about",component:Ws}),j($t,{path:"/faq",component:Ks})]}});var Go=K('<div class="bg-[#363636] h-[calc(100vh-75px)] overflow-auto text-white p-3">');const Ho=()=>(()=>{var e=Go();return M(e,j(Wo,{})),e})();var qo=K('<div class="bg-white dark:bg-gray-500">');const Ko=()=>(()=>{var e=qo();return M(e,j(us,{}),null),M(e,j(Ho,{}),null),M(e,j(hs,{}),null),e})(),Vo=document.getElementById("root");es(()=>j(Ko,{}),Vo);
